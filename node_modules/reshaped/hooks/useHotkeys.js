"use client";
import React from "react";
import useSingletonHotkey from "./_private/useSingletonHotkeys.js";
const useHotkeys = (hotkeys, deps = [], options) => {
    const { addHotkeys, isPressed } = useSingletonHotkey();
    const generatedRef = React.useRef(null);
    const elementRef = (options === null || options === void 0 ? void 0 : options.ref) || generatedRef;
    React.useEffect(() => {
        if (options === null || options === void 0 ? void 0 : options.disabled)
            return;
        const remove = addHotkeys(hotkeys, elementRef, { preventDefault: options === null || options === void 0 ? void 0 : options.preventDefault });
        return () => remove === null || remove === void 0 ? void 0 : remove();
        // eslint-disable-next-line react-hooks/exhaustive-deps
    }, [
        addHotkeys,
        // eslint-disable-next-line react-hooks/exhaustive-deps
        Object.keys(hotkeys).join(","),
        options === null || options === void 0 ? void 0 : options.disabled,
        options === null || options === void 0 ? void 0 : options.preventDefault,
        // eslint-disable-next-line react-hooks/exhaustive-deps
        ...deps,
    ]);
    return { ref: elementRef, checkHotkeyState: isPressed };
};
export default useHotkeys;
